# AI Сhallenge: Banking
## Кейс: Рекомендательная система банковских продуктов
## Команда AI #31

### Состав команды:
Павлов Иван - Teamlead, Backend<br>
Копылов Михаил - Data science, Backend<br>
Соколов Арсений - Data science, Data engineering<br>
Марченко Алексей - Frontend, Data science<br>

### Проблема кейса:
Текущие механизмы используют данные ограниченно, игнорируют сложные паттерны поведения, что вытекает в низкую конверсию и нерелевантные рекомендации. Нет подробной истории о взаимодействии пользователей с банковскими продуктами.

### Видение решения:
Строим рекомендации при помощи глубокого анализа LLM продуктов ПСБ банка на основе пользовательского портрета, основанного на поведении пользователя, его истории трат и принадлежности к социально-демографическому кластеру.

### Результаты работы:
1. Используя рекомендательный алгоритм, основанный на применении LLM с предварительной обработкой данных, получили релевантные рекомендации продуктов ПСБ для каждого пользователя.
2. Придумали архитектуру, повышающую расширяемость и отказоустойчивость системы.
3. Реализовали решение в коде, развернули в docker контейнеры.
4. Данные всех пользователей загрузили в БД.
5. Написали тестовый UI с использованием фреймворка Streamlit для демонстрации решения.

### Архитектура сервиса
![Архитрхитектурная схема](./arch_scheme.png)

### Диаграмма БД
![Диаграмма БД](./db_scheme.png)

### Тест-кейсы и примеры интерфейса

1. ID 27256137 - Пользователь - "высокий digital-активист с ночным паттерном поведения"

![ex1_1](./example1_input.jpeg)
![ex1_2](./example1_res.jpeg)

2. ID 542363 - "Случайный пользователь"

![ex2_1](./example2_input.jpeg)
![ex2_2](./example2_res.jpeg)

### Бизнес метрики

| Модель | Среднее символов в токене | Цена за 1000 токенов | Количество токенов | Стоимость 1 запроса | Годовая стоимость |
|---|---|---|---|---|---|
| **YandexGPT Pro 5.1** | 5,2 | 0,40 ₽ | 2 751 | 1,10 ₽ | 33,0 млн ₽ |
| **YandexGPT Lite** | 6,0 | 0,20 ₽ | 2 384 | 0,48 ₽ | 14,4 млн ₽ |
| **Qwen3 235B** | 5,48 | 0,50 ₽ | 2 610 | 1,30 ₽ | 39,0 млн ₽ |

### Гайд по деплою

1. Скопировть .env файл и поменять секреты на свои:

```
cp .env.example .env
```

2. Запустить проект в docker-compose

```
docker-compose up
```

3. Streamlit-интерфейс доступен по адресу:

```
http://localhost:8501/
```
